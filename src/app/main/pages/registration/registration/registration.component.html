<div class="row justify-content-center">
  <div class="col-md-6">
    <div class="card">
        <div class="card-body">
            <p class="text-center mb-2"> 
                Veuillez taper vos informations à fin créer votre compte
            </p>
            <form class="auth-register-form mt-2" #registrationForm="ngForm" (submit)="signUp(registrationForm)">
                <div class="form-group">
                  <label for="lastname" class="form-label">Nom</label>
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Nom"
                    tabindex="1"
                    autofocus
                    name="lastname"
                    ngModel
                    required
                    [class.error]="registrationForm.submitted && formLastNameRef.invalid"
                    #formLastNameRef="ngModel"
                  />
                  <span *ngIf="registrationForm.submitted && formLastNameRef.invalid" class="invalid-form">
                    <small class="form-text text-danger" *ngIf="formLastNameRef.errors.required">Veuillez entrer votre nom.</small>
                  </span>
                </div>
                <div class="form-group">
                  <label for="firstname" class="form-label">Prénom</label>
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Prénom"
                    tabindex="1"
                    autofocus
                    name="firstname"
                    ngModel
                    required
                    [class.error]="registrationForm.submitted && formNameRef.invalid"
                    #formNameRef="ngModel"
                  />
                  <span *ngIf="registrationForm.submitted && formNameRef.invalid" class="invalid-form">
                    <small class="form-text text-danger" *ngIf="formNameRef.errors.required">Veuillez entrer votre prénom.</small>
                  </span>
                </div>
                
                <div class="form-group">
                  <label for="register-email" class="form-label">Email</label>
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Email"
                    tabindex="2"
                    name="email"
                    [(ngModel)]="email"
                    [class.error]="registrationForm.submitted && formEmailRef.invalid"
                    #formEmailRef="ngModel"
                    required
                  />
                  <span *ngIf="registrationForm.submitted && formEmailRef.invalid" class="invalid-form">
                    <small class="form-text text-danger" *ngIf="formEmailRef.errors.required">L'email est requis!</small>
                    <small class="form-text text-danger" *ngIf="formEmailRef.errors.email">L'email doit être une adresse e-mail valide!</small>
                  </span>
                </div>
                <div class="form-group">
                  <label for="register-password" class="form-label">Mot de passe</label>
                  <div class="input-group input-group-merge form-password-toggle">
                    <input
                      [type]="passwordTextType ? 'text' : 'password'"
                      name="password"
                      class="form-control form-control-merge"
                      placeholder="············"
                      aria-describedby="register-password"
                      tabindex="3"
                      ngModel
                      required
                      [class.error]="registrationForm.submitted && formPasswordRef.invalid"
                      #formPasswordRef="ngModel"
                    />
                    <div class="input-group-append">
                      <span class="input-group-text cursor-pointer"
                        ><i
                          class="feather font-small-4"
                          [ngClass]="{
                            'icon-eye-off': passwordTextType,
                            'icon-eye': !passwordTextType
                          }"
                          (click)="togglePasswordTextType()"
                        ></i
                      ></span>
                    </div>
                  </div>
                  <span *ngIf="registrationForm.submitted && formPasswordRef.invalid" class="invalid-form">
                    <small class="form-text text-danger" *ngIf="formPasswordRef.errors.required">Le mot de passe est requis!</small>
                  </span>
                </div>
                <div class="form-group">
                  <label for="confirm_password" class="form-label">Confirmer</label>
                  <div class="input-group input-group-merge form-password-toggle">
                    <input
                      id="confirm_password"
                      name="confirm_password" 
                      [type]="repeatpasswordTextType ? 'text' : 'password'"
                      class="form-control form-control-merge"
                      placeholder="············"
                      tabindex="3"
                      ngModel
                      required
                      [class.error]="registrationForm.submitted && formRepeatPasswordRef.invalid"
                      #formRepeatPasswordRef="ngModel"
                    />
                    <div class="input-group-append">
                      <span class="input-group-text cursor-pointer"
                        ><i
                          class="feather font-small-4"
                          [ngClass]="{
                            'icon-eye-off': repeatpasswordTextType,
                            'icon-eye': !repeatpasswordTextType
                          }"
                          (click)="toggleRepeatPasswordTextType()"
                        ></i
                      ></span>
                    </div>
                  </div>
                  <span *ngIf="registrationForm.submitted && formRepeatPasswordRef.invalid" class="invalid-form">
                    <small class="form-text text-danger" *ngIf="formRepeatPasswordRef.errors.required">Retaper le mot de passe!</small>
                  </span>
                </div>
                <ngb-alert [type]="'danger'" [dismissible]="false" *ngIf="error">
                  <div class="alert-body">
                    <p>{{ error }}</p>
                  </div>
                </ngb-alert>
                <button [disabled]="loading" class="btn btn-primary btn-block" tabindex="5" rippleEffect>
                  <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>S'inscrire
                </button>
              </form>
        </div>
    </div>
  </div>
</div>